{"version":3,"sources":["server/server.js"],"names":["serverMixmin","SERVER_PORT","app","server","Server","io","listen","host","address","port"],"mappings":";;;;;kBAYwBA,Y;;AAZxB;;;;AACA;;;;AACA;;;;AACA;;;;AAIA;;;AAGA,MAAMC,cAAc,IAApB;;AAEe,SAASD,YAAT,CAAsBE,GAAtB,EAA2B;AACtC,UAAMC,SAAS,eAAKC,MAAL,CAAYF,GAAZ,CAAf;AACA,UAAMG,KAAK,sBAASF,MAAT,CAAX;;AAEA;AACAA,WAAOG,MAAP,CAAcL,WAAd,EAA2B,MAAM;AAC7B,cAAMM,OAAOJ,OAAOK,OAAP,GAAiBA,OAA9B;AACA,cAAMC,OAAON,OAAOK,OAAP,GAAiBC,IAA9B;;AAEA,wBAAK,qBAAoBF,IAAK,IAAGE,IAAK,EAAtC;AACH,KALD;;AAOA;AACA,4BAAeJ,EAAf;AACH","file":"server.js","sourcesContent":["import http from 'http';\nimport socketio from 'socket.io';\nimport ioserverMixmin from './ioserver';\nimport {\n    log,\n} from '../util/debug';\n\n/**\n * 开启服务\n */\nconst SERVER_PORT = 8100;\n\nexport default function serverMixmin(app) {\n    const server = http.Server(app);\n    const io = socketio(server);\n    \n    // 启动不了请优先检查端口占用\n    server.listen(SERVER_PORT, () => {\n        const host = server.address().address;\n        const port = server.address().port;\n\n        log(`应用实例，访问地址为 http://${host}:${port}`);\n    });\n    \n    // socket无须考虑跨域\n    ioserverMixmin(io);\n}"]}